---
description: 이미지에 있는 측정 대상의 골격(skeleton)을 분석하는 API입니다.
---

# 이미지 골격 분석 요청

## &#x20;이미지 골격 분석 요청

<mark style="color:green;">`POST`</mark> `/analyze/skeleton-v2`

사진(front, side)과 키(height), 몸무게(weight), 나이(age), 성별(gender), 생년월일(birthday)를 입력 받아 신체 골격을 분석합니다.

**파라미터(json)**

<table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th data-type="checkbox">Required</th></tr></thead><tbody><tr><td><code>id</code></td><td>string</td><td>유저 이메일 주소</td><td>true</td></tr><tr><td><code>uuid</code></td><td>string</td><td>task uuid</td><td>true</td></tr><tr><td><code>forigimg</code></td><td>string(base64)</td><td>base64로 인코딩 된 정면 사진</td><td>true</td></tr><tr><td><code>sorigimg</code></td><td>string(base64)</td><td>base64로 인코딩 된 측면 사진</td><td>true</td></tr></tbody></table>

**응답(json)**

<table><thead><tr><th width="255">Name</th><th width="94">Type</th><th>Description</th></tr></thead><tbody><tr><td><code>uuid</code></td><td>string</td><td>파라미터로 전달 받은 uuid</td></tr><tr><td><code>forigimg</code></td><td>string</td><td>정면 사진에 결과를 그려  base64로 인코딩된 이미지</td></tr><tr><td><code>sorigimg</code></td><td>string</td><td>측면 사진에 결과를 그려  base64로 인코딩된 이미지</td></tr><tr><td><code>data</code></td><td>dict</td><td>결과 dictionary</td></tr><tr><td><code>state</code></td><td>int</td><td>성공 시 0, 실패 시 -1</td></tr><tr><td><code>command</code></td><td>string</td><td></td></tr><tr><td><code>far_coords</code></td><td>string</td><td>json string으로 변환된 정면 2D keypoint</td></tr><tr><td><code>far_grade</code></td><td>int</td><td></td></tr><tr><td><code>side_part</code></td><td>float</td><td>측면 사진의 사람이 어느 방향으로 서있는지. 0보다 작으면 왼쪽, 크면 오른쪽.</td></tr><tr><td><code>sar_coords</code></td><td>string</td><td>json string으로 변환된 측면 2D keypoint</td></tr><tr><td><code>sar_grade</code></td><td>string</td><td></td></tr><tr><td><code>sar_fwd_head</code></td><td>int</td><td></td></tr><tr><td><code>far_coords3D</code></td><td>list</td><td></td></tr><tr><td><code>sar_coords3D</code></td><td>list</td><td></td></tr><tr><td><code>far_head_bal_m_</code></td><td>int</td><td>머리 균형도(머리 기울기)</td></tr><tr><td><code>far_pelvic_bal_m_</code></td><td>int</td><td>골반 균형도(골반 기울기)</td></tr><tr><td><code>far_shoulder_bal_m_</code></td><td>int</td><td>어깨 균형도(어깨 기울기)</td></tr><tr><td><code>far_left_qang_m_</code></td><td>int</td><td>왼쪽 오다리값</td></tr><tr><td><code>far_right_qang_m_</code></td><td>int</td><td>오른쪽 오다리 값</td></tr><tr><td><code>far_knee_bal_m_</code></td><td>int</td><td>무릎 균형도(무릎 기울기)</td></tr><tr><td><code>far_tilt_m_</code></td><td>int</td><td>정면 축 기울기(좌우 기울기)</td></tr><tr><td><code>turtle_neck_m_</code></td><td>int</td><td>거북목 기울기</td></tr><tr><td><code>round_shoulder_m_</code></td><td>int</td><td>굽은 어께 기울기</td></tr><tr><td><code>sar_tilt_m_</code></td><td>int</td><td>측면 기울기(앞뒤 기울기)</td></tr><tr><td><code>sar_head_tilt_m_</code></td><td>int</td><td>측면 머리 균형도(측면 머리 기울기)</td></tr><tr><td><code>pose2df1</code></td><td>list</td><td></td></tr><tr><td><code>pose2df2</code></td><td>list</td><td></td></tr><tr><td><code>pose2ds3</code></td><td>list</td><td></td></tr><tr><td><code>box1</code></td><td>list</td><td></td></tr><tr><td><code>box2</code></td><td>list</td><td></td></tr><tr><td><code>message</code></td><td>list</td><td></td></tr></tbody></table>

**요청 예시**

```json
{
  "id": “example2@test.com”,
  "uuid": “55f75582-2c4d-4bd9-9e03-9b75f7bc3058”,
  "forigimg": "/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQIBAQECAgICAgQDAgICAgUEBAMEBgUGBgYFBgYGBw ... (생략)",
  "sorigimg": "/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQIBAQECAgICAgQDAgICAgUEBAMEBgUGBgYFBgYGBw ... (생략)"
 }
```

**응답 예시**

{% tabs %}
{% tab title="200" %}
```json
{
  "command": "keypoint",
  "state": 0,
  "far_coords": "[[1152, 1085], [1162, 1371], [1015, 1418], [820, 1666], [682, 1871], [1308, 1426], [1523, 1683], [1672, 1894], [1019, 1888], [989, 2376], [981, 2710], [1264, 1899], [1263, 2386], [1255, 2718], [1138, 1894], [1151, 1649], [1160, 1274], [1236, 1211], [1192, 1156], [1156, 1193], [1077, 1215], [1118, 1159]]",
  "far_grade": "A",
  "side_part": 170.0999755859375,
  "sar_coords": "[[1200, 1111], [1182, 1388], [1179, 1436], [1174, 1680], [1130, 1867], [1197, 1437], [1195, 1719], [1167, 1970], [1163, 1885], [1165, 2342], [1203, 2664], [1179, 1916], [1184, 2419], [1228, 2787], [1157, 1899], [1195, 1664], [1170, 1293], [1176, 1232], [1083, 1188], [1041, 1226], [1171, 1243], [1082, 1192]]",
  "sar_grade": "B",
  "sar_fwd_head": 0,
  "far_coords3D": [
    [
      18.6,
      -899.5,
      3746.0
    ],
    [
      27.5,
      -632.0,
      3794.0
    ],
    [
      -117.2,
      -590.0,
      3820.0
    ],
    [
      -318.0,
      -353.8,
      3924.0
    ],
    [
      -462.2,
      -148.2,
      3964.0
    ],
    [
      171.9,
      -577.5,
      3798.0
    ],
    [
      384.2,
      -328.2,
      3816.0
    ],
    [
      526.5,
      -118.6,
      3784.0
    ],
    [
      -116.9,
      -128.4,
      3910.0
    ],
    [
      -151.1,
      374.2,
      4018.0
    ],
    [
      -164.1,
      747.5,
      4164.0
    ],
    [
      131.5,
      -116.9,
      3900.0
    ],
    [
      134.2,
      383.8,
      4006.0
    ],
    [
      130.1,
      753.0,
      4156.0
    ],
    [
      5.0,
      -121.2,
      3884.0
    ],
    [
      18.1,
      -366.8,
      3870.0
    ],
    [
      25.5,
      -721.0,
      3762.0
    ],
    [
      98.8,
      -779.5,
      3748.0
    ],
    [
      55.0,
      -812.0,
      3656.0
    ],
    [
      21.3,
      -769.0,
      3622.0
    ],
    [
      -54.5,
      -775.0,
      3750.0
    ],
    [
      -14.3,
      -809.5,
      3656.0
    ]
  ],
  "sar_coords3D": [
    [
      66.2,
      -900.5,
      3856.0
    ],
    [
      48.9,
      -632.5,
      3902.0
    ],
    [
      48.8,
      -604.5,
      4040.0
    ],
    [
      45.5,
      -370.8,
      4272.0
    ],
    [
      -2.9,
      -169.1,
      4400.0
    ],
    [
      60.9,
      -563.5,
      3768.0
    ],
    [
      56.4,
      -275.2,
      3604.0
    ],
    [
      29.7,
      -42.0,
      3532.0
    ],
    [
      31.0,
      -138.5,
      4112.0
    ],
    [
      33.8,
      356.5,
      4236.0
    ],
    [
      78.6,
      726.0,
      4336.0
    ],
    [
      45.4,
      -98.8,
      3874.0
    ],
    [
      51.1,
      411.5,
      3948.0
    ],
    [
      98.1,
      796.5,
      3996.0
    ],
    [
      23.6,
      -120.4,
      3992.0
    ],
    [
      62.2,
      -358.5,
      3950.0
    ],
    [
      36.3,
      -725.0,
      3884.0
    ],
    [
      41.5,
      -770.5,
      3808.0
    ],
    [
      -50.3,
      -820.5,
      3836.0
    ],
    [
      -93.2,
      -789.0,
      3870.0
    ],
    [
      39.0,
      -788.0,
      3950.0
    ],
    [
      -52.5,
      -829.5,
      3900.0
    ]
  ],
  "far_head_bal_m_": 2721,
  
  "far_pelvic_bal_m_": 113,
  "far_shoulder_bal_m_": 1,
  "far_left_qang_m_": 1701,
  "far_right_qang_m_": 502,
  "far_knee_bal_m_": -485,
  "far_tilt_m_": -869,
  "turtle_neck_m_": 30160,
  "round_shoulder_m_": 2302,
  "sar_tilt_m_": -1464,
  "sar_head_tilt_m_": -1548,
  "pose2df1": [
    [
      [
        1138.7249755859375,
        1894.72509765625
      ],
      [
        1192.2750244140625,
        1997.10009765625
      ],
      [
        1078.875,
        1993.9500732421875
      ],
      [
        1145.0250244140625,
        1779.75
      ],
      [
        1253.7000732421875,
        2349.900146484375
      ],
      [
        1003.2750244140625,
        2338.875
      ],
      [
        1154.4749755859375,
        1633.2750244140625
      ],
      [
        1253.7000732421875,
        2707.425048828125
      ],
      [
        981.2250366210938,
        2697.97509765625
      ],
      [
        1154.4749755859375,
        1576.5750732421875
      ],
      [
        1318.2750244140625,
        2797.2001953125
      ],
      [
        893.0250244140625,
        2778.300048828125
      ],
      [
        1159.2000732421875,
        1399.3875732421875
      ],
      [
        1201.7249755859375,
        1496.25
      ],
      [
        1111.9500732421875,
        1493.10009765625
      ],
      [
        1159.2000732421875,
        1226.1375732421875
      ],
      [
        1338.75,
        1446.6375732421875
      ],
      [
        982.800048828125,
        1438.7625732421875
      ],
      [
        1493.10009765625,
        1672.6500244140625
      ],
      [
        848.925048828125,
        1660.050048828125
      ],
      [
        1660.050048828125,
        1885.2750244140625
      ],
      [
        693.0,
        1863.22509765625
      ],
      [
        1156.050048828125,
        1228.5
      ],
      [
        1190.7000732421875,
        1163.1375732421875
      ],
      [
        1119.8250732421875,
        1165.5
      ],
      [
        1741.9500732421875,
        1975.050048828125
      ],
      [
        614.25,
        1941.97509765625
      ],
      [
        1156.050048828125,
        1193.8499755859375
      ],
      [
        1118.25,
        1159.2000732421875
      ],
      [
        1192.2750244140625,
        1156.050048828125
      ],
      [
        1077.300048828125,
        1215.9000244140625
      ],
      [
        1236.375,
        1211.175048828125
      ],
      [
        1300.9500732421875,
        2823.97509765625
      ],
      [
        1352.925048828125,
        2808.22509765625
      ],
      [
        1250.550048828125,
        2727.900146484375
      ],
      [
        896.175048828125,
        2806.650146484375
      ],
      [
        855.2250366210938,
        2786.175048828125
      ],
      [
        993.8250122070312,
        2720.025146484375
      ],
      [
        1719.9000244140625,
        2000.25
      ],
      [
        1759.2750244140625,
        2052.22509765625
      ],
      [
        622.125,
        1967.175048828125
      ],
      [
        615.8250122070312,
        1997.10009765625
      ]
    ]
  ],
  "pose2df2": [
    [
      [
        1152.9000244140625,
        1085.9625244140625
      ],
      [
        1162.3499755859375,
        1371.03759765625
      ],
      [
        1015.8750610351562,
        1418.28759765625
      ],
      [
        820.5750122070312,
        1666.35009765625
      ],
      [
        682.7625122070312,
        1871.10009765625
      ],
      [
        1308.8250732421875,
        1426.9500732421875
      ],
      [
        1523.0250244140625,
        1683.675048828125
      ],
      [
        1672.6500244140625,
        1894.72509765625
      ],
      [
        1019.0250244140625,
        1888.425048828125
      ],
      [
        989.1000366210938,
        2376.675048828125
      ],
      [
        981.2250366210938,
        2710.5751953125
      ],
      [
        1264.72509765625,
        1899.4500732421875
      ],
      [
        1263.1500244140625,
        2386.125
      ],
      [
        1255.2750244140625,
        2718.4501953125
      ],
      [
        1141.875,
        1893.1500244140625
      ],
      [
        1151.3250732421875,
        1649.0250244140625
      ],
      [
        1160.7750244140625,
        1274.175048828125
      ]
    ]
  ],
  "pose2ds3": [
    [
      [
        1200.1500244140625,
        1111.9500732421875
      ],
      [
        1182.8250732421875,
        1388.362548828125
      ],
      [
        1179.675048828125,
        1436.4000244140625
      ],
      [
        1174.9500732421875,
        1680.5250244140625
      ],
      [
        1130.8499755859375,
        1867.9500732421875
      ],
      [
        -1,
        -1
      ],
      [
        -1,
        -1
      ],
      [
        -1,
        -1
      ],
      [
        1163.925048828125,
        1885.2750244140625
      ],
      [
        1165.5,
        2342.025146484375
      ],
      [
        1203.300048828125,
        2664.900146484375
      ],
      [
        -1,
        -1
      ],
      [
        -1,
        -1
      ],
      [
        -1,
        -1
      ],
      [
        1171.800048828125,
        1901.0250244140625
      ],
      [
        1195.425048828125,
        1664.7750244140625
      ],
      [
        1170.2249755859375,
        1293.0750732421875
      ]
    ]
  ],
  "box1": [
    [
      598.5,
      1039.5,
      1178.0999755859375,
      1820.7000732421875
    ]
  ],
  "box2": [
    [
      1008.0,
      1064.7000732421875,
      333.9000244140625,
      1814.4000244140625
    ]
  ],
  "message": [
    "In the Front image, The target is too far.",
    "In the Side image, The target is too far."
  ]
}

```
{% endtab %}

{% tab title="400" %}
```json
{
  "data":
  {
  "state": -1,
  'errors': "image load error" 
  }
}
```
{% endtab %}

{% tab title="400" %}
```json
{
  "data":
  {
  "state": -1,
  'message': "processing error" 
  }
}
```
{% endtab %}
{% endtabs %}

